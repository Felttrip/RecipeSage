<ion-header>

  <ion-toolbar color="nav">
    <ion-buttons slot="start">
      <ion-back-button [defaultHref]="defaultBackHref"></ion-back-button>
    </ion-buttons>

    <ion-title>{{ 'pages.importJsonLD.title' | translate }}</ion-title>
  </ion-toolbar>

</ion-header>


<ion-content>
  <ion-item lines="none">
    <ion-label class="ion-text-center ion-text-wrap">
      <br /><br />
      <p>
        {{ 'pages.importJsonLD.description1' | translate }}
      </p>
      <br />
      <p>
        <b>{{ 'pages.importJsonLD.description2' | translate }}</b><br />
        {{ 'pages.importJsonLD.description3' | translate }}<br />
      </p>
      <br />
      <p>
        {{ 'pages.importJsonLD.description4' | translate }}<br />
        {{ 'pages.importJsonLD.description5' | translate }}
      </p>
      <br />
      <br />
      <p>
        {{ 'pages.importJsonLD.description6' | translate }}
      </p>
    </ion-label>
  </ion-item>

  <br />

  <div class="ion-text-center ion-padding">
    <input id="filePicker" type="file" (change)="setFile($event)" style="display: none;" accept=".json" />
    <ion-button fill="outline" (click)="filePicker()">
      <span *ngIf="imageFile">
        {{ 'pages.importJsonLD.filePicker.file' | translate:{fileName:imageFile.name} }}
      </span>
      <span *ngIf="!imageFile">
        {{ 'pages.importJsonLD.filePicker.noFile' | translate }}
      </span>
    </ion-button>

    <div class="ion-padding" *ngIf="showFileTypeWarning()">
      <p>
        {{ 'pages.importJsonLD.fileTypeWarning' | translate }}
      </p>
    </div>

    <div class="ion-padding" *ngIf="isFileTooLarge()">
      <p>
        <b>{{ 'pages.importJsonLD.fileTooLarge' | translate }}</b><br />
        <a href="mailto:julian@recipesage.com?subject=RecipeSage Support">
          {{ 'pages.importJsonLD.fileTooLarge.contact' | translate }}
        </a>
      </p>
    </div>

    <div class="ion-padding" *ngIf="imageFile && !isFileTooLarge()">
      <ion-button *ngIf="!loading && !showFileTypeWarning()" (click)="submit()">
        {{ 'pages.importJsonLD.upload' | translate }}
      </ion-button>
      <ion-button *ngIf="!loading && showFileTypeWarning()" (click)="submit()">
        {{ 'pages.importJsonLD.upload.ignoreWarning' | translate }}
      </ion-button>
      <ion-button *ngIf="loading">
        {{ 'pages.importJsonLD.loading' | translate }}
      </ion-button>
    </div>
  </div>
</ion-content>
